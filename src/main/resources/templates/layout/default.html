<!-- 수정: src/main/resources/templates/layout/default.html (Flash Message 추가) -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title layout:title-pattern="$CONTENT_TITLE - Example Board">기본 타이틀</title>
    <!-- Bootstrap 5.3.8 (jsdelivr CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <header th:replace="~{fragments/header :: header}"></header>

    <!-- Flash Message 영역 추가 -->
    <div class="container mt-3" th:if="${message}">
        <div class="alert alert-success alert-dismissible fade show">
            [[${message}]]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    </div>

    <main class="container" layout:fragment="content">
        <!-- 페이지별 콘텐츠 -->
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <!-- jQuery 3.7.1 (jsdelivr CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <!-- jQuery Validation 1.21.0 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.21.0/dist/jquery.validate.min.js"></script>
    <!-- jQuery Validation 한글 메시지 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.21.0/dist/localization/messages_ko.min.js"></script>
    <!-- Bootstrap 5.3.8 (jsdelivr CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery Validation + Bootstrap 5 연동 -->
    <script>
    $.validator.setDefaults({
        errorClass: 'is-invalid',
        validClass: 'is-valid',
        errorElement: 'div',
        errorPlacement: function(error, element) {
            error.addClass('invalid-feedback');
            error.insertAfter(element);
        },
        highlight: function(element) {
            $(element).addClass('is-invalid').removeClass('is-valid');
        },
        unhighlight: function(element) {
            $(element).removeClass('is-invalid').addClass('is-valid');
        }
    });
    </script>
    <!-- 페이지별 스크립트 -->
    <th:block layout:fragment="script"></th:block>
</body>
</html>
